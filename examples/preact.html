<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/preact/dist/preact.js"></script>
<script src="../index.js"></script>

<script type="text/jsx">
class Clock extends preact.Component {
  render() {
	let time = new Date().toLocaleTimeString();
      return (<div>Time:<span>${ time }</span></div>);
  }
}
</script>

<script>
jsx.compile({env:"preact"});
</script>

</head>
<body>
<div id="directions">
	<p>View the source to see how this page works to compile JSX on the fly in the browser.</p>
	<p>Below is the dynamically generated compiled render function for this directions div.</p>
</div>
<div id="compiled"></div>
<div id="clock"></div>
<div id="hello"></div>
<div id="cool"></div>

<script>
preact.render(new Clock().render(),document.getElementById("clock"));

preact.render(jsx(
		`<div id='foo'>
		<span> Hello, world! </span>
		<button onclick={ e => alert('hi!') }>Click Me</button>
		</div>`,{env:"preact"}),document.getElementById("hello"));
		
preact.render(jsx.compile({env:"preact"},"function() { return(<div>Pretty cool, huh?</div>) }")(),document.getElementById("cool"));
	
const compiled = jsx.compile({env:"preact"},"function() { return(jsx(document.body.getElementById("directions").innerHTML)) }");
document.body.getElementById("compiled").innerText = compiled+"";
</script>

</body>
</html>
